<reference path="FamilyTree.d.ts" />

<!DOCTYPE html>
<html>
    <head>
        <title>Odendaal Genealogie</title> 
        <meta charset="utf-8" />
        <link rel="stylesheet" 	href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" />
        <link rel="stylesheet" 	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"	/>
        <script src="https://balkan.app/js/FamilyTree.js"></script>  
        <link rel="stylesheet" href="index.css" type="text/css" />
    </head>

    <body>
        <header>
            <div id="logo"><img src="Odendaal-12_480x480.webp" alt="Crest" /></div>
            <h1>Odendaal  Genealogie In Suid-Afrika</h1>
        </header>

        <main>
            
            <div style="width:100%; height:100%;" id="tree">
                <script>
                    var family = new FamilyTree(document.getElementById('tree'), {
                        mouseScrool: FamilyTree.none,
                        template: 'hugo',
                        scaleInitial: FamilyTree.match.boundary,
                        enableSearch: false,
                        roots: [3],
                        nodeMenu: {
                            edit: { text: 'Edit' },
                            details: { text: 'Details' },
                        },
                        nodeTreeMenu: true,
                        nodeBinding: {
                            field_0: 'name',
                            field_1: 'born',
                            img_0: 'photo'
                        },
                        editForm: {
                            titleBinding: "name",
                            photoBinding: "photo",
                            addMoreBtn: 'Add element',
                            addMore: 'Add more elements',
                            addMoreFieldName: 'Element name',
                            generateElementsFromFields: false,
                            elements: [
                                { type: 'textbox', label: 'Full Name', binding: 'name' },
                                { type: 'textbox', label: 'Email Address', binding: 'email' },
                                [
                                    { type: 'textbox', label: 'Phone', binding: 'phone' },
                                    { type: 'date', label: 'Date Of Birth', binding: 'born' }
                                ],
                                [
                                    { type: 'select', options: [{ value: 'bg', text: 'Bulgaria' }, { value: 'ru', text: 'Russia' }, { value: 'gr', text: 'Greece' }], label: 'Country', binding: 'country' },
                                    { type: 'textbox', label: 'City', binding: 'city' },
                                ],
                                { type: 'textbox', label: 'Photo Url', binding: 'photo', btn: 'Upload' },
                            ]
                        },
});

family.on('field', function (sender, args) {
    if (args.name == 'born') {
        var date = new Date(args.value);
        args.value = date.toLocaleDateString();
    }
});


family.load(
    [
        
        { id: 2, pids: [3], gender: 'female', photo: 'vrou4.jpg', name: 'Groot Ouma Grootjie', born: '1852-10-10'},
        { id: 3, pids: [2], gender: 'male', photo: 'oldmale.jpg', name: 'Groot Oupa Grootjie', born: '1860-01-13', city: 'Moscow', country: 'ru' },
        { id: 6, mid: 2, fid: 3, pids: [7], gender: 'male', photo: 'oldmale.jpg', name: 'Seun', born: '1875-11-12' },
        { id: 7, pids: [6], gender: 'female', photo: 'vrou2.jpg', name: 'Ouma Grootjie', born: '1886-10-01' },
        { id: 8,pids: [9], mid: 7, fid: 6, gender: 'male', photo: 'oldmale.jpg', name: 'Seun', born: '2021-02-01' },
        { id: 9, pids: [8], gender: 'female', photo: 'vrou2.jpg', name: 'Vrou',   born: '1920-04-04'},
        { id: 10, pids: [11], mid: 9, fid: 8, gender:  'male', photo:  'oldmale.jpg', name: 'Seun', born: '1958-01-03'},
        { id: 11, pids: [10], gender: 'female', photo: 'vrou4.jpg', name: 'Vrou', born: '1966-07-29', city: 'Delmas'},
        { id: 12, pids: [13], mid: 11, fid: 10, gender: 'male', photo: 'oldmale.jpg', name: 'Seun', born: '1981-06-09', city: 'Johannesburg'},
        { id: 13, pids: [12], gender: 'female', photo: 'vrou4.png', name: 'Vrou', born: '1982-05-04', city: 'Johannesburg'},
        { id: 14, pids: [15], mid: 11, fid: 10, gender: 'male', photo: 'oldmale.jpg', name: 'Seun', born: '1983-12-08', city: 'Sasolburg'}, 
        { id: 15, pids: [14], gender: 'female', photo: 'vrou4.jpg', name: 'Vrou', born: '1983-07-20'},
        { id: 16,  mid: 11, fid: 10, gender: 'male', photo: 'oldmale.jpg', name: 'Seun', born: '1993-07-15', city: 'Goodwood'},
        { id: 17, mid: 13, fid: 12, gender: 'male', photo: 'oldmale.jpg', name: 'Seun', born: '2003-09-19', city: 'Welkom'},
        { id: 18, mid: 13, fid: 12, gender: 'female', photo: 'vrou4.jpg', name: 'Dogter', born: '2016-12-14', city: 'Goodwood'},
    ]
);

                </script>
            </div>
        </main>
    </body>
</html>
